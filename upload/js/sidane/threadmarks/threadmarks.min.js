!function(e,o,t){e.tools.tooltip.addEffect("RightPreviewTooltip",function(){var t=this.getTrigger().offset(),i=this.getConf(),r={top:"auto",bottom:e(o).height()-t.top+i.offset[0]},n=e(o).width()<480;n?r.left=Math.min(50,t.left+i.offset[1]):(r.right=e("html").width()-this.getTrigger().outerWidth()-t.left-i.offset[1],r.left="auto");var l=this.getTip();l.css(r);var a=e(o).scrollTop()-t.top+i.offset[0]+l.outerHeight();if(a>=0&&l.css({top:t.top+i.offset[0]+this.getTrigger().outerHeight(),bottom:"auto"}),!n){var f=l.find(".arrow");a>=0?f.hide():f.css({left:l.width()-i.offset[1]-f.outerWidth(),top:"auto"})}l.xfFadeIn(XenForo.speed.normal)},function(){this.getTip().xfFadeOut(XenForo.speed.fast)}),XenForo.RightPreviewTooltip=function(o){var i,r,n;if(parseInt(XenForo._enableOverlays)){if(!(r=o.data("previewurl")))return void console.warn("Preview tooltip has no preview: %o",o);o.find("[title]").andSelf().attr("title",""),o.bind({mouseenter:function(){i||(n=setTimeout(function(){if(!i){i=!0;var n,l,a=e("#PreviewTooltip");if(!a.length)return void console.error("Unable to find #PreviewTooltip");console.log("Setup preview tooltip for %s",r),n=a.clone().removeAttr("id").addClass("xenPreviewTooltip").appendTo(t.body),XenForo._PreviewTooltipCache[r]||(l=XenForo.ajax(r,{},function(o){XenForo.hasTemplateHtml(o)?(XenForo._PreviewTooltipCache[r]=o.templateHtml,e(o.templateHtml).xfInsert("replaceAll",n.find(".PreviewContents"))):n.remove()},{type:"GET",error:!1,global:!1})),o.tooltip(XenForo.configureTooltipRtl({predelay:500,delay:0,effect:"RightPreviewTooltip",fadeInSpeed:"normal",fadeOutSpeed:"fast",tip:n,position:"bottom right",offset:[10,15]})),o.data("tooltip").show(0),XenForo._PreviewTooltipCache[r]&&e(XenForo._PreviewTooltipCache[r]).xfInsert("replaceAll",n.find(".PreviewContents"),"show",0)}},800))},mouseleave:function(){return i?void(o.data("tooltip")&&o.data("tooltip").hide()):void(n&&clearTimeout(n))},mousedown:function(){n&&clearTimeout(n),o.data("tooltip")&&o.data("tooltip").hide()}})}},XenForo.isTouchBrowser()||XenForo.register(".RightPreviewTooltip","XenForo.RightPreviewTooltip")}(jQuery,this,document);